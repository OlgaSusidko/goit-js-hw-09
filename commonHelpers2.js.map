{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["import \"../css/2-form.css\"\n\nconst STORAGE_KEY = \"feedback-form-state\";\n\nlet formData = {\n    email: \"\",\n    message: \"\"\n}\n\nconst form = document.querySelector(\".feedback-form\");\n\npopulateForm();\n\nform.addEventListener(\"submit\", handleFormSubmit);\nform.addEventListener(\"input\", handleFormInput);\n\nfunction handleFormSubmit(event){\n  event.preventDefault();\n\n  if (\n    !form.elements.email.value.trim() ||\n    !form.elements.message.value.trim()\n  ) {\n    alert('Fill please all fields');\n    return;\n  }\n  \n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n\n  formData = { email: '', message: '' };\n  form.reset();\n}\n\nfunction handleFormInput(event) {\n  const value = event.target.value.trim();\n  const key = event.target.name;\n  formData[key] = value;\n  \n  try { localStorage.setItem(STORAGE_KEY, JSON.stringify(formData)) } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction populateForm() {\n  try { formData = JSON.parse(localStorage.getItem(STORAGE_KEY)); }  catch (err) {\n    console.log(err);\n    return;\n  }\n\n  if (!formData) {\n    return;\n  };\n  \n  for (const key in formData) {\n    form.elements[key].value = formData[key];\n  }\n}"],"names":["STORAGE_KEY","formData","form","populateForm","handleFormSubmit","handleFormInput","event","value","key","err"],"mappings":"oDAEA,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IAEAD,EAAK,iBAAiB,SAAUE,CAAgB,EAChDF,EAAK,iBAAiB,QAASG,CAAe,EAE9C,SAASD,EAAiBE,EAAM,CAG9B,GAFAA,EAAM,eAAc,EAGlB,CAACJ,EAAK,SAAS,MAAM,MAAM,KAAM,GACjC,CAACA,EAAK,SAAS,QAAQ,MAAM,KAAM,EACnC,CACA,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAID,CAAQ,EAEpB,aAAa,WAAWD,CAAW,EAEnCC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAK,MAAK,CACZ,CAEA,SAASG,EAAgBC,EAAO,CAC9B,MAAMC,EAAQD,EAAM,OAAO,MAAM,KAAI,EAC/BE,EAAMF,EAAM,OAAO,KACzBL,EAASO,CAAG,EAAID,EAEhB,GAAI,CAAE,aAAa,QAAQP,EAAa,KAAK,UAAUC,CAAQ,CAAC,QAAWQ,EAAK,CAC9E,QAAQ,IAAIA,CAAG,EACf,MACD,CACH,CAEA,SAASN,GAAe,CACtB,GAAI,CAAEF,EAAW,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,QAAaS,EAAK,CAC7E,QAAQ,IAAIA,CAAG,EACf,MACD,CAED,GAAKR,EAIL,UAAWO,KAAOP,EAChBC,EAAK,SAASM,CAAG,EAAE,MAAQP,EAASO,CAAG,CAE3C"}